<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Configuration • hugodown</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Configuration">
<meta property="og:description" content="hugodown">
<meta property="og:image" content="https://hugodown.r-lib.org/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">hugodown</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/config.html">Configuration</a>
    </li>
    <li>
      <a href="../articles/deploy.html">Deployment</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/r-lib/hugodown/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Configuration</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/r-lib/hugodown/blob/master/vignettes/config.Rmd"><code>vignettes/config.Rmd</code></a></small>
      <div class="hidden name"><code>config.Rmd</code></div>

    </div>

    
    
<p>There are three types of configuration related to hugodown:</p>
<ul>
<li><p>hugo configuration, because hugodown assumes certain things to be true about your hugo setup.</p></li>
<li><p>Syntax highlight css</p></li>
<li><p>hugodown specific configuration, which allows you to control over various ways in which hugodown works.</p></li>
</ul>
<div id="hugo" class="section level2">
<h2 class="hasAnchor">
<a href="#hugo" class="anchor"></a>Hugo</h2>
<p>hugodown does not work with every possible hugo site. There is some config that we assume (typically in <code>config.toml</code>, but hugo has a bewildering array of places that this might live instead.)</p>
<ul>
<li>
<p>You must use the goldmark markdown renderer, and set <code>unsafe: true</code></p>
<pre class="toml"><code>[markup]
  defaultMarkdownHandler = "goldmark"
  [markup.goldmark.renderer]
    unsafe = true</code></pre>
</li>
<li>
<p>For best syntax hightlighting results, you must use classes:</p>
<pre class="toml"><code>pygmentsUseClasses = true</code></pre>
<p>Then you’ll need to do some work on CSS side, see <a href="#syntax-highlighting">below</a> for details.</p>
</li>
<li>
<p>We recommend ignoring knitr intermediates:</p>
<pre class="toml"><code>ignoreFiles = ['\.Rmd$', '_files$', '_cache$', '\.knit\.md$', '\.utf8\.md$']</code></pre>
</li>
<li>
<p>To use html widgets, you must include the following Go template somewhere in the <code>&lt;head&gt;</code> layout file for your theme. This will help Hugo find the HTML dependencies needed to render the widget in a post. You may find this <a href="https://zwbetz.com/override-a-hugo-theme/">blog post</a> helpful for overriding Hugo layouts.</p>
<pre><code>{{ range .Params.html_dependencies }}
  {{ . | safeHTML }}
{{ end }}</code></pre>
</li>
<li><p>To use mathjax, you will need to use a series of [small hacks][yihui-mathjax]. The easiest way is to copy from an existing template, like [tourmaline]. Take note of the [<code>footer_mathjax.html</code>][footer_mathjax] partial, which is then included in the [<code>footer.html</code>][footer]. You’ll also need to include [<code>math_code.js</code>][math_code] in your <code>static/</code> directory. Once that’s done you can use inline math like <code>$math$</code>, and display math like <code>`$$ math $$`</code> (note the extra backtick compared to usual).</p></li>
</ul>
</div>
<div id="syntax-highlighting" class="section level2">
<h2 class="hasAnchor">
<a href="#syntax-highlighting" class="anchor"></a>Syntax highlighting</h2>
<p>The hugo config above causes downlit/hugo to generate output html with the following structure:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">"highlight"</span><span class="kw">&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="kw">&lt;pre</span><span class="ot"> class=</span><span class="st">'chroma'</span><span class="kw">&gt;&lt;code</span><span class="ot"> class=</span><span class="st">'language-r'</span><span class="ot"> data-lang=</span><span class="st">'r'</span><span class="kw">&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">'m'</span><span class="kw">&gt;</span>1<span class="kw">&lt;/span&gt;</span> <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">'o'</span><span class="kw">&gt;</span>+<span class="kw">&lt;/span&gt;</span> <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">'m'</span><span class="kw">&gt;</span>1<span class="kw">&lt;/span&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>    <span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">'c'</span><span class="kw">&gt;</span>#<span class="dv">&amp;gt;</span> [1] 2<span class="kw">&lt;/span&gt;</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="kw">&lt;/code&gt;&lt;/pre&gt;</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="kw">&lt;/div&gt;</span></span></code></pre></div>
<p>To have that look good on your website, you need to defines styles for the CSS necessary classes. You can generate starter CSS with the code below, substituting <code>pygments</code> for the <a href="https://xyproto.github.io/splash/docs/longer/all.html">style of your choice</a>:</p>
<pre><code>hugo gen chromastyles --style=pygments &gt; static/css/highlight.css</code></pre>
<p>This generates a file containing definitions that look like this:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb7-1"><a href="#cb7-1"></a><span class="co">/* Background */</span> <span class="fu">.chroma</span> {  }</span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="co">/* Other */</span> <span class="fu">.chroma</span> <span class="fu">.x</span> {  }</span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co">/* Error */</span> <span class="fu">.chroma</span> <span class="fu">.err</span> {  }</span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="fu">...</span></span>
<span id="cb7-5"><a href="#cb7-5"></a><span class="co">/* Keyword */</span> <span class="fu">.chroma</span> <span class="fu">.k</span> { <span class="kw">color</span>: <span class="cn">#008000</span><span class="op">;</span> }</span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="fu">...</span></span>
<span id="cb7-7"><a href="#cb7-7"></a><span class="co">/* LiteralNumber */</span> <span class="fu">.chroma</span> <span class="fu">.m</span> { <span class="kw">color</span>: <span class="cn">#666666</span> }</span>
<span id="cb7-8"><a href="#cb7-8"></a><span class="fu">...</span></span>
<span id="cb7-9"><a href="#cb7-9"></a><span class="co">/* Operator */</span> <span class="fu">.chroma</span> <span class="fu">.o</span> { <span class="kw">color</span>: <span class="cn">#666666</span> }</span></code></pre></div>
<p>Unfortunately, the correct location for <code>highlight.css</code> file varies by theme, so you’ll need to do a little detective work to figure out the best place to put it. Is it:</p>
<ul>
<li><p>A special file name?</p></li>
<li><p>A <code>customCSS</code> param in the website configuration?</p></li>
<li><p>A link in a custom layout?</p></li>
</ul>
<p>You may also need to do some detective work to figure out how these styles interact with your existing styles, particularly for links within code. Your best bet is to use the <a href="https://developer.mozilla.org/en-US/docs/Tools/Web_Console/Opening_the_Web_Console">web developer console</a> to figure out what’s going wrong. You’ll then need to figure out how to tweak <code>highlight.css</code> to override these styles. This is a pain, which is why hugodown ships with a couple of themes that are preconfigured.</p>
<div id="highlight-js-inactivation" class="section level3">
<h3 class="hasAnchor">
<a href="#highlight-js-inactivation" class="anchor"></a>highlight.js inactivation</h3>
<p>If you are using an old hugo theme that uses highlight.js you may want to convert to server-side syntax highlighting. This is not required (and not important if you only use R code on your blog), but is a good idea if you show a variety of programming languages and want the code style to be as consistent as possible.</p>
<p>From easiest to hardest, based on the theme you chose:</p>
<ul>
<li>Read how the theme currently handles syntax highlighting (docs might be in the GitHub/GitLab repo README or in the example site… that does not necessarily have search). If the theme docs indicate how to turn off highlight.js, yay, do that!</li>
<li>Look for “highlight” in existing issues of your theme issue tracker: others might have also asked how to turn it off, and received ideas or posted their tricks.</li>
<li>Otherwise, look for all occurrences of “highlight” in <em>the source</em> of the theme. Note that highlight.js works with JS and CSS so you might have to remove scripts, stylesheets, and/or links to them from layout files. Your theme might lack docs about syntax highlighting, but it might still contain docs about customization in general. If not you’ll probably need to create custom head/footer where you use the theme head and footer minus references to highlight.js.</li>
</ul>
</div>
</div>
<div id="hugodown" class="section level2">
<h2 class="hasAnchor">
<a href="#hugodown" class="anchor"></a>hugodown</h2>
<p>hugodown also has its own configuration file, <code>_hugodown.yml</code>. Currently this has one option:</p>
<ul>
<li>
<code>hugo_version</code>: this defines the version of hugo needed by the current site.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://hadley.nz">Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
